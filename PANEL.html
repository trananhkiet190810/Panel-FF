<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>·ª®ng d·ª•ng M·ªü Game B·∫£o M·∫≠t</title>
    <!-- T·∫£i Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        /* Thi·∫øt l·∫≠p font Inter m·∫∑c ƒë·ªãnh */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');

        /* ·∫®n input file m·∫∑c ƒë·ªãnh v√† t·∫°o n√∫t ch·ªçn file t√πy ch·ªânh */
        .custom-file-upload {
            border: 2px dashed #3b82f6;
            background-color: #0dd8a5;
            color: #1e40af;
            cursor: pointer;
            text-align: center;
            padding: 2.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.2s;
        }
        .custom-file-upload:hover {
            background-color: #dbeafe;
            border-color: #2563eb;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">

    <div id="app-container" class="w-full max-w-md bg-white shadow-2xl rounded-xl p-8 transition-all duration-300">

        <!-- C√°c tr·∫°ng th√°i c·ªßa ·ª©ng d·ª•ng s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã t·∫°i ƒë√¢y -->
        <div id="login-screen"></div>
        <div id="menu-screen" class="hidden"></div>
        <div id="file-selection-screen" class="hidden"></div>
        <div id="game-launch-screen" class="hidden"></div>

        <!-- V√πng hi·ªÉn th·ªã th√¥ng b√°o l·ªói/th√†nh c√¥ng -->
        <div id="message-box" class="mt-4 p-3 rounded-lg text-center hidden"></div>
    </div>

    <script>
        // M·∫≠t kh·∫©u c·ªë ƒë·ªãnh ƒë·ªÉ ƒëƒÉng nh·∫≠p
        const CORRECT_PASSWORD = "kiettran";
        let currentState = 'login';
        
        // D·ªØ li·ªáu mock cho menu
        const menuOptions = [
            { id: 1, name: "Fix rung" },
            { id: 2, name: "AimNeck" },
            { id: 3, name: "BUFF HZ"},
        ];

        // --- H√†m Hi·ªÉn th·ªã Th√¥ng b√°o ---
        function showMessage(text, type = 'success') {
            const box = document.getElementById('message-box');
            box.textContent = text;
            box.className = 'mt-4 p-3 rounded-lg text-center transition-all duration-300';
            
            if (type === 'success') {
                box.classList.add('bg-green-100', 'text-green-800');
            } else if (type === 'error') {
                box.classList.add('bg-red-100', 'text-red-800');
            } else {
                box.classList.add('bg-blue-100', 'text-blue-800');
            }
            box.classList.remove('hidden');
            
            // ·∫®n th√¥ng b√°o sau 5 gi√¢y
            setTimeout(() => {
                box.classList.add('hidden');
            }, 5000);
        }

        // --- H√†m Chuy·ªÉn tr·∫°ng th√°i giao di·ªán ---
        function transitionTo(newState) {
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('menu-screen').classList.add('hidden');
            document.getElementById('file-selection-screen').classList.add('hidden');
            document.getElementById('game-launch-screen').classList.add('hidden');

            // Hi·ªÉn th·ªã m√†n h√¨nh m·ªõi
            document.getElementById(`${newState}-screen`).classList.remove('hidden');
            currentState = newState;
        }

        // --- M√†n h√¨nh 1: ƒêƒÉng nh·∫≠p ---
        function renderLoginScreen() {
            const screen = document.getElementById('login-screen');
            screen.innerHTML = `
                <h1 class="text-3xl font-extrabold text-gray-900 mb-6 text-center">Panel By Kiettran</h1>
                <p class="text-gray-500 mb-6 text-center text-sm">Vui l√≤ng nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ truy c·∫≠p.</p>
                <div class="space-y-4">
                    <input type="password" id="password-input" placeholder="Nh·∫≠p pass ƒëi c·∫≠u" 
                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                    <button id="login-button" 
                            class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg shadow-md transition duration-200 transform hover:scale-[1.01] active:scale-[0.98] focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50">
                        ƒêƒÉng Nh·∫≠p
                    </button>
                </div>
            `;

            document.getElementById('login-button').addEventListener('click', handleLogin);
            document.getElementById('password-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleLogin();
            });
        }

        function handleLogin() {
            const password = document.getElementById('password-input').value;
            if (password === CORRECT_PASSWORD) {
                showMessage("ƒêƒÉng nh·∫≠p th√†nh c√¥ng! Ch√†o m·ª´ng tr·ªü l·∫°i.", 'success');
                renderMenuScreen();
                transitionTo('menu');
            } else {
                showMessage("M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng. Vui l√≤ng th·ª≠ l·∫°i.", 'error');
            }
        }

        // --- M√†n h√¨nh 2: Menu ---
        function renderMenuScreen() {
            const screen = document.getElementById('menu-screen');
            screen.innerHTML = `
                <h1 class="text-3xl font-extrabold text-gray-900 mb-6 text-center">Ch·ª©c nƒÉng
                <p class="text-gray-600 mb-6 text-center">H√£y ch·ªçn m·ªôt trong c√°c t√°c v·ª• d∆∞·ªõi ƒë√¢y:</p>
                <div class="space-y-3">
                    ${menuOptions.map(option => `
                        <button data-action="${option.action || 'info'}" data-name="${option.name}"
                                class="w-full text-left p-4 bg-white border border-gray-200 hover:bg-blue-50 hover:border-blue-300 text-gray-800 rounded-lg shadow-sm transition duration-150 ease-in-out transform hover:-translate-y-0.5 menu-option-button">
                            <span class="font-semibold">${option.name}</span>
                        </button>
                    `).join('')}
                </div>
                <button id="logout-button" 
                        class="mt-6 w-full text-center text-sm text-gray-500 hover:text-red-600 transition duration-150">
                    ƒêƒÉng Xu·∫•t
                </button>
            `;

            document.querySelectorAll('.menu-option-button').forEach(button => {
                button.addEventListener('click', handleMenuSelection);
            });
            document.getElementById('logout-button').addEventListener('click', handleLogout);
        }

        function handleMenuSelection(event) {
            const button = event.currentTarget;
            const action = button.getAttribute('data-action');
            const name = button.getAttribute('data-name');

            if (action === 'select_file') {
                showMessage("ƒêang chuy·ªÉn ƒë·∫øn m√†n h√¨nh ch·ªçn file Game...", 'info');
                renderFileSelectionScreen();
                transitionTo('file-selection');
            } else {
                showMessage(`ƒê√£ th·ª±c hi·ªán: ${name}`, 'info');
            }
        }

        function handleLogout() {
            showMessage("ƒê√£ ƒëƒÉng xu·∫•t th√†nh c√¥ng. H·∫πn g·∫∑p l·∫°i!", 'info');
            renderLoginScreen();
            transitionTo('login');
        }

        // --- M√†n h√¨nh 3: Ch·ªçn File (Th·ª±c) ---
        function renderFileSelectionScreen() {
            const screen = document.getElementById('file-selection-screen');
            screen.innerHTML = `
                <h1 class="text-3xl font-extrabold text-gray-900 mb-6 text-center">üìÇ Ch·ªçn File Game T·ª´ M√°y T√≠nh</h1>
                <p class="text-gray-600 mb-6 text-center">Nh·∫•p v√†o √¥ b√™n d∆∞·ªõi ƒë·ªÉ m·ªü h·ªôp tho·∫°i ch·ªçn file.</p>
                
                <label for="game-file-input" class="custom-file-upload">
                    <span class="block text-4xl mb-2">‚¨ÜÔ∏è</span>
                    <span class="block font-bold">B·∫•m v√†o ƒë√¢y ƒë·ªÉ ch·ªçn file (.exe, .dat, .iso, v.v.)</span>
                    <p id="file-name-display" class="mt-2 text-sm text-gray-700 font-semibold"></p>
                </label>
                
                <!-- Input file th·ª±c t·∫ø, b·ªã ·∫©n ƒëi v√† d√πng label t√πy ch·ªânh -->
                <input type="file" id="game-file-input" class="hidden" accept=".exe, .dat, .iso, .bin">

                <button id="launch-game-button" disabled
                        class="mt-6 w-full bg-green-400 text-white font-semibold py-3 rounded-lg shadow-md opacity-50 cursor-not-allowed transition duration-200">
                    ‚ñ∂Ô∏è Kh·ªüi Ch·∫°y Game ƒê√£ Ch·ªçn
                </button>
                
                <button id="back-to-menu-button" 
                        class="mt-4 w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 rounded-lg transition duration-200 focus:outline-none focus:ring-2 focus:ring-gray-400">
                    ‚Üê Quay l·∫°i Menu
                </button>
            `;

            const fileInput = document.getElementById('game-file-input');
            const launchButton = document.getElementById('launch-game-button');
            const fileNameDisplay = document.getElementById('file-name-display');

            // L·∫Øng nghe s·ª± ki·ªán khi ng∆∞·ªùi d√πng ch·ªçn file
            fileInput.addEventListener('change', (event) => {
                if (event.target.files.length > 0) {
                    const file = event.target.files[0];
                    fileNameDisplay.textContent = `ƒê√£ ch·ªçn: ${file.name}`;
                    
                    // K√≠ch ho·∫°t n√∫t kh·ªüi ch·∫°y v√† g√°n d·ªØ li·ªáu file
                    launchButton.disabled = false;
                    launchButton.classList.remove('bg-green-400', 'opacity-50', 'cursor-not-allowed');
                    launchButton.classList.add('bg-green-600', 'hover:bg-green-700', 'transform', 'hover:scale-[1.01]', 'active:scale-[0.98]');
                    launchButton.setAttribute('data-filename', file.name);
                    
                    // T·ª± ƒë·ªông kh·ªüi ch·∫°y game ngay sau khi ch·ªçn file (theo y√™u c·∫ßu m·ªõi)
                    handleFileSelection(file.name);
                } else {
                    fileNameDisplay.textContent = 'Ch∆∞a c√≥ file n√†o ƒë∆∞·ª£c ch·ªçn.';
                    launchButton.disabled = true;
                    launchButton.classList.remove('bg-green-600', 'hover:bg-green-700', 'transform', 'hover:scale-[1.01]', 'active:scale-[0.98]');
                    launchButton.classList.add('bg-green-400', 'opacity-50', 'cursor-not-allowed');
                }
            });

            // N√∫t Kh·ªüi ch·∫°y (Ch·ªâ c·∫ßn m√¥ ph·ªèng vi·ªác t·ª± ƒë·ªông v√†o, nh∆∞ng v·∫´n ƒë·ªÉ n√∫t cho t∆∞∆°ng lai)
            launchButton.addEventListener('click', (event) => {
                 const fileName = event.currentTarget.getAttribute('data-filename');
                 if(fileName) {
                    handleFileSelection(fileName);
                 }
            });
            
            document.getElementById('back-to-menu-button').addEventListener('click', () => {
                transitionTo('menu');
            });
        }

        // X·ª≠ l√Ω khi ch·ªçn file game (T·ª± ƒë·ªông chuy·ªÉn sang m√†n h√¨nh kh·ªüi ch·∫°y)
        function handleFileSelection(fileName) {
            // B∆∞·ªõc 1: Th√¥ng b√°o cho ng∆∞·ªùi d√πng
            showMessage(`ƒê√£ ch·ªçn file: ${fileName}. ƒêang kh·ªüi ch·∫°y game... Chu·∫©n b·ªã v√†o!`, 'info');
            
            // B∆∞·ªõc 2: Chuy·ªÉn sang m√†n h√¨nh kh·ªüi ch·∫°y game
            renderGameLaunchScreen(fileName);
            transitionTo('game-launch');
        }

        // --- Kh·ªüi t·∫°o ·ª®ng d·ª•ng ---
        window.onload = function() {
            renderLoginScreen();
            transitionTo('login');
        }
    </script>
</body>
</html>